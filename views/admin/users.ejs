<div class="section-header">
    <h3><%= title %></h3>
</div>
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>User ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Gender</th>
                <th>Phone</th>
                <th>Date of Birth</th>
                <th>Roles</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (users && users.length > 0) { %>
                <% users.forEach(user => { %>
                    <tr>
                        <td><%= user.user_id %>...</td>
                        <td><%= user.name %></td>
                        <td><%= user.email %></td>
                        <td><%= user.gender || 'N/A' %></td>
                        <td><%= user.phone_number || 'N/A' %></td>
                        <td><%= user.date_of_birth ? new Date(user.date_of_birth).toLocaleDateString('en-US') : 'N/A' %></td>
                        <td><%= user.roles || 'N/A' %></td>
                        <td>
                            <span class="status-badge status-<%= user.is_active ? 'active' : 'inactive' %>">
                                <%= user.is_active ? 'Active' : 'Inactive' %>
                            </span>
                        </td>
                        <td class="action-buttons">
                            <a href="/api/admin/users/<%= user.user_id %>" class="btn btn-view-profile">
                                <i class="fas fa-eye"></i> View
                            </a>
                            <% if (user.is_active) { %>
                                <button class="btn btn-deactivate" data-user-id="<%= user.user_id %>">
                                    <i class="fas fa-user-slash"></i> Deactivate
                                </button>
                            <% } else { %>
                                <button class="btn btn-activate" data-user-id="<%= user.user_id %>">
                                    <i class="fas fa-user-check"></i> Activate
                                </button>
                            <% } %>
                            </td>
                    </tr>
                <% }); %>
            <% } else { %>
                <tr>
                    <td colspan="9">No users found.</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>